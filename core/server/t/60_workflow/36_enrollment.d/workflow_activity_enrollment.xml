<!-- 
  Generated by: tools/scripts/ogflow.pl 

     File: core/config/graffle/workflow_enrollment.graffle
  Version: 2.3
      Git: f3418c59b6842c18c0e90df6ff7144e14b09587c
-->


<actions>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_INITIALIZE"
            class="OpenXPKI::Server::Workflow::Activity::Tools::SetSource"
            source="SCEP">
            <field name="_pkcs7" is_required="yes"/>
            <field name="_url_params"/>
            <field name="cert_profile"/>
            <field name="f_valid_csr"/>
            <field name="f_valid_scep_tid"/>
            <field name="pkcs10" is_required="yes"/>
            <field name="scep_tid" is_required="yes"/>
            <field name="server"/>
            <field name="signer_cert" is_required="yes"/>
            <field name="t_signer_cert_crypt_ok"/>
            <field name="t_signer_validity_ok"/>
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_DISAPPROVE"
            class="Workflow::Action::Null">
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_DENY_AUTHENTICATION"
            class="Workflow::Action::Null">
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_ISSUE_CERT"
            class="OpenXPKI::Server::Workflow::Activity::SCEPv2::IssueCert">
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_REVOKE_EXISTING_CERTS"
            class="OpenXPKI::Server::Workflow::Activity::SCEPv2::RevokeExistingCerts">
    </action>

    <action name="enroll_add_approval"
            class="Workflow::Action::Null">
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_ADD_AUTHENTICATION"
            class="OpenXPKI::Server::Workflow::Activity::Tools::SetContext"
            num_manual_authen="1">
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_INVALIDATE_CHALLENGE_PASS"
            class="Workflow::Action::Null">
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_PERSIST_CSR"
            class="OpenXPKI::Server::Workflow::Activity::CSR::PersistRequest">
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_MODIFY_METADATA"
            class="Workflow::Action::Null">
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_FETCH_GROUP_POLICY"
            class="OpenXPKI::Server::Workflow::Activity::SCEPv2::FetchGroupPolicy">
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_CLEAR_APPROVALS"
            class="Workflow::Action::Null">
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_CONTINUE_ISSUANCE"
            class="Workflow::Action::Null">
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_EXTRACT_CSR"
            class="OpenXPKI::Server::Workflow::Activity::SCEPv2::ExtractCSR">
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_FORK_PUBLISH"
            class="Workflow::Action::Null">
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_GET_CERT_PROFILE"
            class="Workflow::Action::Null">
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_CALC_APPROVALS"
            class="OpenXPKI::Server::Workflow::Activity::SCEPv2::CalcApprovals">
    </action>

    <action name="enroll_serialize_unique_id"
            class="OpenXPKI::Server::Workflow::Activity::SCEPv2::SerializeUniqueId">
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_EVAL_CHALLENGE"
            class="OpenXPKI::Server::Workflow::Activity::SCEPv2::EvaluateChallenge">
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_LOAD_RECENT_CERTIFICATE"
            class="Workflow::Action::Null">
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_EVAL_ELIGIBILITY"
            class="OpenXPKI::Server::Workflow::Activity::SCEPv2::EvaluateEligibility">
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_EVAL_SIGNER_TRUST"
            class="OpenXPKI::Server::Workflow::Activity::SCEPv2::EvaluateSignerTrust">
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_NEXT_CERT_TO_REVOKE"
            class="OpenXPKI::Server::Workflow::Activity::Tools::WFArray"
            array_name="tmp_queue"
            context_key="cert_identifier"
            function="shift">
            <field name="tmp_queue" is_required="yes"/>
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_REVOKE_CERT"
            class="OpenXPKI::Server::Workflow::Activity::SmartCard::RevokeCertificate">
            <field name="cert_identifier" is_required="yes"/>
    </action>

    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_NULL1" class="Workflow::Action::Null"/>
    <action name="I18N_OPENXPKI_WF_ACTION_ENROLL_NULL2" class="Workflow::Action::Null"/>
    <action name="enroll_null3" class="Workflow::Action::Null"/>
</actions>
