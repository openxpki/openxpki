<workflow>
    <type>I18N_OPENXPKI_WF_TYPE_CHANGE_METADATA</type>
    <description>I18N_OPENXPKI_WF_DESC_CHANGE_METADATA</description>
    <persister>OpenXPKI</persister>
    
    <state name="INITIAL"> 
        <description>I18N_OPENXPKI_WF_STATE_CHANGE_METADATA_INITIAL</description>
        <action name="I18N_OPENXPKI_WF_ACTION_CHANGEMETA_LOAD_DATA" resulting_state="DATA_UPDATE">
        </action>
    </state>
    
    <state name="DATA_UPDATE">        
        <description>I18N_OPENXPKI_WF_STATE_CHANGE_METADATA_UPDATE</description>        
        <action name="I18N_OPENXPKI_WF_ACTION_CHANGEMETA_UPDATE_CONTEXT" resulting_state="CHOOSE_ACTION"/>
    </state>
    
    <state name="CHOOSE_ACTION">        
        <description>I18N_OPENXPKI_WF_STATE_CHANGE_METADATA_CHOOSE_ACTION</description>        
        <action name="I18N_OPENXPKI_WF_ACTION_CHANGEMETA_LOAD_FORM" resulting_state="DATA_UPDATE"/>
        <action name="I18N_OPENXPKI_WF_ACTION_CHANGEMETA_TERMINATE" resulting_state="FAILURE" />
        <action name="I18N_OPENXPKI_WF_ACTION_CHANGEMETA_PERSIST" resulting_state="SUCCESS" />
    </state>
    
    
    <state name="FAILURE">
        <description>I18N_OPENXPKI_WF_STATE_CHANGE_METADATA_FAILURE</description>
    </state>
    <state name="SUCCESS">
        <description>I18N_OPENXPKI_WF_STATE_CHANGE_METADATA_SUCCESS</description>
    </state>

</workflow>
